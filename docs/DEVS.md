# Developer Notes â€” rtlamr Multi-Scan Suite

This document describes the **internal implementation structure and assumptions** of the rtlamr Multi-Scan Suite. It is intended for developers and contributors and does not prescribe operator workflow or system authority.

---

## Sweep Engine

The sweep engine is responsible for iterating through a set of observation frequencies and invoking `rtlamr` on each.

Frequency lists may originate from:

* **Enumerated sources** (ISM-derived frequency sets generated by wideband scanning), or
* **Declared sources** (operator-provided frequency lists).

Core responsibilities:

* construct the active frequency list
* tune sequentially
* spawn `rtlamr` processes
* parse JSON output streams
* aggregate message counts
* write session logs

Sweep sessions are timestamped and written under `logs/ism_sweeps/` when operating in ISM-derived mode.

---

## Analyzer Internals

The analyzer processes completed ISM sweep sessions and derives actionable frequency intelligence.

Responsibilities include:

* aggregating message counts by frequency
* identifying observed radio identifiers
* ranking frequencies by density
* generating suggested per-radio targeting commands

Analyzer outputs remain co-located with the ISM sweep that produced them.

---

## Core Scan Operation

The core scan engine performs focused observation across a provided frequency set.

Frequency sets used by core scans may be:

* derived from ISM analysis, or
* declared directly by the operator.

Responsibilities:

* iterate through the provided frequency set
* invoke `rtlamr` per frequency
* record decode output

Core scan results are written to timestamped session directories under `logs/core_scans/`.

---

## Data Assumptions

The suite operates under several assumptions:

* AMR meters transmit short, periodic bursts
* frequencies are generally stable over time but may drift
* burst timing varies by vendor and deployment

These assumptions inform dwell timing and aggregation strategies but are not enforced.

---

## Extensibility Notes

The architecture is intentionally minimal and extensible. Planned or possible extensions include:

* adaptive dwell based on observed density
* frequency clustering
* long-term or multi-day analysis
* alternate output formats (CSV, SQLite)

---

## Style and Constraints

Implementation priorities:

* minimal dependencies
* streaming JSONL processing
* deterministic, timestamp-based directory structures

These constraints support portability, transparency, and field reliability.
